<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Checkout | NoorLink</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* --- PREMIUM THEME --- */
        :root {
            --primary: #0F3D3E; --accent: #FFAD5A; --bg-body: #F3F5F7; --surface: #FFFFFF; --text-main: #111827; --text-muted: #6B7280;
            --success: #10B981; --success-bg: #ECFDF5; --success-text: #047857;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; color: var(--text-main); background: var(--bg-body); line-height: 1.6; }
        .container { max-width: 1000px; margin: 0 auto; padding: 0 24px; }

        /* HEADER */
        header { background: var(--surface); padding: 15px 0; border-bottom: 1px solid #e5e7eb; }
        .nav-flex { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--primary); text-decoration: none; }
        .logo span { color: var(--accent); }
        
        .secure-badge { 
            background: var(--success-bg); color: var(--success-text); padding: 8px 16px; 
            border-radius: 50px; font-size: 0.85rem; font-weight: 700; 
            display: flex; align-items: center; gap: 8px; border: 1px solid #A7F3D0;
        }

        /* LAYOUT */
        .checkout-grid { display: grid; grid-template-columns: 1.5fr 1fr; gap: 40px; padding: 40px 0; }

        /* CARDS */
        .card { background: var(--surface); padding: 30px; border-radius: 16px; border: 1px solid #e5e7eb; margin-bottom: 20px; }
        .card h2 { font-size: 1.25rem; margin-bottom: 20px; border-bottom: 1px solid #f3f4f6; padding-bottom: 15px; color: var(--primary); }

        /* FORMS */
        .form-group { margin-bottom: 15px; }
        .form-label { display: block; font-size: 0.9rem; font-weight: 600; margin-bottom: 8px; }
        .form-input { width: 100%; padding: 12px; border: 1px solid #e5e7eb; border-radius: 8px; font-size: 1rem; outline: none; transition: 0.3s; }
        .form-input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(15, 61, 62, 0.1); }
        .form-row { display: flex; gap: 15px; }
        
        input[type="date"] { font-family: inherit; color: var(--text-main); }
        .date-hint { font-size: 0.8rem; color: var(--text-muted); margin-top: 5px; display: flex; gap: 5px; align-items: center; }

        /* SUMMARY */
        .summary-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #f3f4f6; padding-bottom: 15px; margin-bottom: 20px; }
        .summary-header h2 { border: none; padding: 0; margin: 0; }
        .change-link { font-size: 0.85rem; color: var(--text-muted); font-weight: 600; text-decoration: none; border: 1px solid #eee; padding: 5px 12px; border-radius: 20px; transition: 0.3s; }
        .change-link:hover { color: var(--primary); border-color: var(--primary); background: #f9fafb; }

        .product-preview { display: flex; gap: 15px; align-items: center; margin-bottom: 20px; background: #F9FAFB; padding: 15px; border-radius: 8px; }
        .flag-icon { font-size: 2rem; }

        .summary-item { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 0.95rem; }
        .summary-total { display: flex; justify-content: space-between; margin-top: 20px; padding-top: 20px; border-top: 1px solid #e5e7eb; font-weight: 800; font-size: 1.2rem; color: var(--primary); }

        .pay-btn { background: var(--primary); color: white; width: 100%; padding: 16px; border: none; border-radius: 12px; font-weight: 700; cursor: pointer; font-size: 1rem; transition: 0.3s; }
        .pay-btn:hover { background: var(--accent); color: var(--primary); }
        
        .payment-methods { display: flex; gap: 10px; margin-bottom: 20px; }
        .pm-icon { font-size: 1.5rem; color: #9CA3AF; }
        .security-note { font-size: 0.8rem; color: var(--text-muted); display: flex; align-items: center; gap: 6px; margin-top: 15px; }
        .security-note i { color: var(--success); }

        footer { text-align: center; font-size: 0.85rem; color: var(--text-muted); padding: 40px 0; }
        @media (max-width: 768px) { .checkout-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <header>
        <div class="container nav-flex">
            <a href="index.html" class="logo">Noor<span>Link</span></a>
            <div class="secure-badge"><i class="fas fa-shield-alt"></i> Verified Secure Checkout</div>
        </div>
    </header>

    <div class="container">
        <div class="checkout-grid">
            
            <!-- LEFT: DETAILS -->
            <div class="details-section">
                <div class="card">
                    <h2>1. Contact Information</h2>
                    <div class="form-group">
                        <label class="form-label">Email Address (For eSIM Delivery)</label>
                        <input type="email" class="form-input" placeholder="you@example.com">
                    </div>
                </div>

                <div class="card">
                    <h2>2. Trip Details</h2>
                    <div class="form-group">
                        <label class="form-label">When is your arrival date?</label>
                        <input type="date" class="form-input" id="travelDate">
                        <div class="date-hint">
                            <i class="fas fa-bell" style="color: var(--accent);"></i>
                            We'll send you an activation reminder 24h before your trip.
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>3. Payment Method</h2>
                    <div class="payment-methods">
                        <i class="fab fa-cc-visa pm-icon"></i>
                        <i class="fab fa-cc-mastercard pm-icon"></i>
                        <i class="fab fa-apple-pay pm-icon"></i>
                        <i class="fab fa-google-pay pm-icon"></i>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Card Number</label>
                        <div style="position: relative;">
                            <input type="text" class="form-input" placeholder="0000 0000 0000 0000">
                            <i class="fas fa-lock" style="position: absolute; right: 15px; top: 15px; color: #ccc;"></i>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group" style="flex:1;">
                            <label class="form-label">Expiry</label>
                            <input type="text" class="form-input" placeholder="MM/YY">
                        </div>
                        <div class="form-group" style="flex:1;">
                            <label class="form-label">CVC</label>
                            <input type="text" class="form-input" placeholder="123">
                        </div>
                    </div>

                    <div class="security-note">
                        <i class="fas fa-lock"></i> All transactions are end-to-end encrypted.
                    </div>
                </div>
            </div>

            <!-- RIGHT: SUMMARY -->
            <div class="summary-section">
                <div class="card" style="position: sticky; top: 100px;">
                    <div class="summary-header">
                        <h2>Order Summary</h2>
                        <a href="destinations.html" class="change-link">Change Plan</a>
                    </div>
                    
                    <div class="product-preview">
                        <!-- DYNAMIC CONTENT GOES HERE -->
                        <span class="flag-icon" id="sum-flag">ðŸ‡ºðŸ‡¸</span>
                        <div>
                            <strong style="color: var(--primary);" id="sum-name">USA Travel eSIM</strong><br>
                            <span style="font-size: 0.85rem; color: #666;">5 GB - 30 Days</span>
                        </div>
                    </div>

                    <div class="summary-item">
                        <span>Subtotal</span>
                        <span id="sum-sub">$12.00</span>
                    </div>
                    <div class="summary-item">
                        <span>Activation Fee</span>
                        <span style="color: var(--success); font-weight: 600;">FREE</span>
                    </div>
                    
                    <div class="summary-total">
                        <span>Total</span>
                        <span id="sum-total">$12.00</span>
                    </div>

                    <button class="pay-btn" id="pay-btn" onclick="simulatePayment()">Pay $12.00</button>
                    
                    <p style="font-size: 0.8rem; text-align: center; margin-top: 15px; color: #888;">
                        By clicking Pay, you agree to our <a href="terms.html" style="color:var(--text-main);">Terms</a>.
                    </p>
                </div>
            </div>

        </div>
    </div>

    <footer>
        <p>&copy; 2026 NoorLink.co. Secure Payment Processing.</p>
    </footer>

    <script>
        // 1. DATE PICKER LOGIC
        document.getElementById('travelDate').min = new Date().toISOString().split("T")[0];

        // 2. DYNAMIC URL LOGIC (The "Catch")
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const country = urlParams.get('country');
            const price = urlParams.get('price');
            const flag = urlParams.get('flag');

            // If data exists in URL, update the page
            if (country && price) {
                // Update text
                document.getElementById('sum-name').innerText = country + " Travel eSIM";
                document.getElementById('sum-flag').innerText = flag ? flag : "ðŸŒ"; // Use globe if no flag
                
                // Update Prices (Clean the $ sign first if it exists)
                let cleanPrice = price.replace('$','');
                
                document.getElementById('sum-sub').innerText = "$" + cleanPrice;
                document.getElementById('sum-total').innerText = "$" + cleanPrice;
                document.getElementById('pay-btn').innerText = "Pay $" + cleanPrice;
            }
        };

        // 3. PAYMENT SIMULATION
        function simulatePayment() {
            const btn = document.querySelector('.pay-btn');
            btn.innerText = "Processing...";
            btn.style.opacity = "0.7";
            setTimeout(() => {
                window.location.href = "success.html";
            }, 1500);
        }
    </script>

</body>
</html>